

# 훌륭한 프로그래머 되는 법







# 코드에 신경쓰기

## 코드가 중요하다

- 좋은 코드를 작성하고 싶다면. 좋은 프로그래머가 되고 싶다면 그만큼 코드에 신경써야함.
- 단지 작동하는 코딩은 거부하고 올바르게 작동하는 훌륭한 코드를 짜도록 노력해야함 + 테스트
- 의도가 드러나는 코드. 유지보수가 쉬운 코드. 정확한 코드
- 훌륭한 결과물을 자랑스러워하거나 더러운 코드에 혐오감을 느끼는 것은 자신이 건전하다는 증거





# 정돈된 코드 유지하기

- 누구도 지저분한 코드로 작업하는 걸 좋아하지 않음
- 코드의 레이아웃에 대한 논쟁이 증가할수록 의미 없는 논쟁으로 빠지게 될 확률이 높아짐
- 코드 레이아웃에 대해 싸우는 것을 멈추고, 자신만의 코드 레이아웃을 만드는 올바른 방법을 익히자. <= 이걸로 싸워본적이 없는거같은데.... 쩝



## 보이는 것은 강력하다

- 좋은 코드는 명백하고 일관성이 있음
- 좋은 표현 기법은 아름다움을 위해서가 아니라 실수를 줄이기 위해서임
- 일관성이 없는 레이앗과 뒤죽박죽인 명명은 코드의 품질이 높지 않다는 징후임



## 의사소통

- 컴파일러와 동료 프로그래머를 위한 코딩을 할 것
- 읽기 어려운 코드는 작업하기도 어려움 다른사람을 위해 코딩하는 것을 잊지 말 것
- *로 둘러쌓인 주석같은건 쓰지말것 <= 수정이 어려움



## 레아이웃

- 어떤 레이아웃을 쓰던지 상관 없고 단지 전체 형태와 구조를 파악할 수 있어야함

### 구조 잘 잡기

- 비슷한 것끼리 묶고 다른 것은 나눌것
- 자연적인 문단 나눔이 있지 않은 한, 빈 줄은 넣지 말것
- 코드 연관성과 관련된 순서는 중요함. 코드를 읽을 사람을 고려할것
- 합리적인 순서로 API 를배치할것 private 보다는 public을 먼저 적을것
- 객체 생성은 객체 사용 이전에



### 일관성

- 한꺼번에 모든 레이아웃 스타일을 지키려 애쓰지 말자.
- 딱 하나만 골라서 일관성있게 사용할 것
- 사용하는 언어에 가장 잘 맞는 걸 고르는 것이 좋음. 기본 라이브러리의 스타일을 따를것
- 팀의 다른 동료들과 동일한 레이아웃 규칙으로 코드를 작성할 것
- 자신만의 고유한 스타일을 사용하지 않을 것
- 프로젝트에 일관성이 없다면 표준 코딩 스타일 가이드를 적용할 것.
- 길거나 엄격한 문서가 아닌, 레이아웃에 대한 약간의 규칙만으로도 팀의 협업을 충분히 끌어낼 수 있음
- 단 강압적이 아닌 상호 합의하에 이루어져야함
- 레이아웃 규칙을 따르지 않은 파일을 작업하는 경우에는 해당 파일의 레이아웃 규칙을 따를것
- 팀 전체의 ide와 소스 코드 편집기가 같은 환경으로 설정되어 있는지 확인할 것



## 명명

- 이름짓는것을 중요하게 생각해야함.



### 불필요한 반복을 피하라

- 둘러싸인 클래스의 문맥이 확실하게 정의되어 있으면 이걸 메서드에 굳이 쓰지 않아도됨
- 클래스 + 메서드명으로 표현할 수 있으면 그렇게 하면 됨



### 명확하게 하라

- 간결함보다 명확함

## 

### 관용어법을 지키라

- 언어별로 있는 관용적 이름을 선호할 것
- ex 클래스명이 파스칼 케이스인것



### 정확하게 하라

- 위젯 배열이름을 Widget Set으로 짓지 말 것
- 정확한 이름을 사용할 것



## 스스로 가다듬기

- 코드를 정리해야한다면 기능 변경과 모양 변경을 동시에 진행하지 말 것
- 소스 관리 시스템에 모양 변경과 기능 변경을 별도의 단계로 나누어 커밋할 것
- 코드를 읽고 배우고 자신만의 레이아웃 스타일을 발전시켜나갈것



## 마치며

- 개인적으로 선호하는 레이아웃이 아니더라도 프로젝트의 공통 관습을 따를것
- 다만 어떤 레이아웃이 왜 좋은지에 대해서는 개인적인 의견을 갖자
- 지속적으로 다른 코드를 읽어가며 경험을 쌓고 배우자.
- 코드 레이아웃에 일관성과 명확함을 사수하자



# 코드 적게 쓰기

- 많은 양의 코드 작성이 곧 다량의 소프트웨어 개발을 의미하지는 않음
- 소프트웨어를 개선하는 최고의 방법 가운데 하나는 바로 코드를 제거하는 것



## 코드에 신경 써야 하는 이유

- 각 줄의 코드마다 비용이 듬. 코드를 길게 많이 쓸수록 유지보수 비용은 높아짐
- 수많은 코드란 읽고 이해해야 할 내용이 많음을 의미함
- 코드가 많을수록 수정해야 할 부분도 많아짐. 수정하기 어려움
- 코드가 많을수록 버그가 숨을 수 있는 공간도 많아짐
- 중복코드는 특히 치명적. 



## 허술한 논리

```
if (expression)
	return true;
else
	return false;

```

- 위 코드보단 아래 코드 형식으로 사용할 것

```
return expression
```

- 명백하고 간결하게 표현하면 됨
- 언어가 작동하는 방식에 대해 아는 것을 부끄럽게 생각하지 말 것



## 중복

- 불필요한 코드 중복은 보통 잘라내기와 붙여넣기를 통해 발생함
- 코드의 일부를 복사하지 말고 공통 함수에 넣을 것. 다른 부분은 매개변수를 사용할 것
- Don't Repeat Yourself!
- 다만 비슷한 코드를 하나의 공통 함수에 넣으면 해당 함수를 사용하는 코드들은 긴밀한 결합도를 가지게 된다는 사실을 알아야함 이는 장기적으로 더 많은 문제를 초래할 수 있기 때문에 코드에 대한 책임감이 필요함



## 죽은 코드

- 죽은 코드란 실행되거나 호출되지 않는 생명력 없는 코드를 말함
- 실행되지 않는 코드는 정리할 것
- 죽은 코드를 포함했을 때 나타나는 징후
  - 한 번도 호출되지 않는 함수
  - 선언되었지만 할당되지는 않은 변수
  - 내부 메서드에 전달되었지만 사용되지는 않은 매개 변수
  - 전혀 사용되지 않는 열거형, 구조체, 클래스, 인터페이스



## 주석

- 좋은 코드는 작동법을 설명하는 대량의 주석을 필요로 하지 않음
- 변수, 함수, 클래스 이름의 적절한 서택과 올바른 구조는 코드를 더 명확하게 만듦
- 주석에서 모든 정보를 복사해 표현하는 것이야말로 불필요한 중복임
- 특정 알고리즘에 주석이 필요해보인다면 잘 명명된 새로운 함수들로 로직을 재구성하는 편이 더 나을 수도 있음
- 이전 코드는 완벽하게 제거할 것
- 코드가 어떤 역할을 하는지 설명하는 주석을 달지 말 것



## 장황한 내용

- 삼항연산자를 잘 사용해서 장황하게 풀어진 코드의 수를 줄일 것
- 변수의 선언부분과 정의 부분을 같은 위치에 쓸 것



## 나쁜 설계

- 모든 불필요한 코드는 낮은 수준의 실수나 부적절한 관리로 인한 결과물로 치부될 수는 없음. 높은 수준의 설계상의 결점 탓일 수도 있기 때문
- 나쁜 설계는 분명한 이유 없이 수많은 여분의 데이터를 정렬하는 등의 오류
- 오래된 것들을 바꾸는 것에 두려워하지 말 것
- 설계시점에는 기존에 있는 라이브러리에 이미 구현되어있는지 확인할 것 이름값 하는 라이브러리는 강건하고 확장성도 있고 자주 이용됨



## 공백

- 공백은 코드 구조에 도움이 됨



## 그래서 무엇을 해야 할까

- 불쾌한 코드는 고의성을 띠지 않음
- 책임감을 느껴야함. 불필요한 코드를 쓰지 말고, 레ㅐ거시 코드를 작업할 때는 경고 표시에 주의할 것
- 코드 정돈은 다른 기능적 변화와는 별개로 전개되어야 함



## 마치며

- 소프트웨어 기능은 코드의 줄 수나 컴포넌트 수와는 연관이 없음
- 더 많은 줄의 코드가 더 좋은 소프트웨어를 의미하지 않음
- 필요하지 않다면 코딩하지 말 것
- 적게 쓰고 그 대신 더 재미난 것을 찾을 것



# 코드 줄여 개선하기 

- 새로운 코드를 추가해서 시스템을 개선할 수 있음. 반대로 코드를 제거하여 시스템을 개선할 수도 있음



## 제멋대로인 코드

- 제 멋대로인 코드는 프로그래머가 제멋대로 코드를 작성했을 확률이 높음
- 의미가 있을때만 코드를 작성하고 미래에 필요한 기능을 앞당기지 말 것



## 불가피한 결과물

- 언젠가 필요할 것 같다는 코드, 지금 제거되지 않아도 괜찮을 것 같은 코드
- 더는 사용되지 않는 자료형 또는 클래스가 프로젝트에 남아있는 경우
- 기존 제품의 기능들이 거의 제거되지 않은 경우
- 코드에 대한 오랜 기간의 유지 보수로 인해 함수 일부가 실행되지 않는 경우
- 잘 사용되지 않는 이벤트 핸들러가 있는 경우
- 전혀 사용되지 않는 함수 반환 값이 있는 경우
- 디버그 코드가 괴사하는 경우



## 어떻게 해야 하나

- 죽은 코드는 불가피하다는 사실을 받아들이고 프로젝트가 잗공하는 한 지나친 걱정은 하지 말 것
- 불필요한코드의 대가
  - 불필요한 코드 역시 다른 필요한 코드와 마찬가지로 유지보수되어야 한다는 점은 명백함 여기엔 시간과 돈이 듬
  - 여분의 코드는 프로젝트를 파악하기 어렵게 만드는 만큼 추가적인 이해와 검토가 필요함
  - 실제 사용 여부와 상관 없이 백만 개의 메서드를 가진 클래스는 주의 깊게 프로그래밍할 수 없으며 엉성하게 작성할 수 밖에 없음
  - 가장 빠른 장비, 가장 좋은 컴파일러를 사들여도 불필요한 코드는 빌드를 지체시키고 덜 생산적이게 만듦
  - 코드가 좀비 코드로 가득차면 리팩토링이나 간소화, 최적화는 더 어려워짐



## 죽은 코드 탐색

- 가장 좋은 방법은 코드베이스에서 작업할 때 주의를 기울이는 것
- 자신의 행동에 대해 책임을 지고 작업 후에는 확실하게 정리. 
- 정기적인 코드 리뷰는 죽은 코드를 찾는 데 도움이 됨
- ide의 기능을 잘 활용할 것



## 외과적 적출

- 죽은코드, 미래에 필요할지도 모르는 기능을 가진 코드 등등 과감하게 제거할것 그리고 필요하면 버전관리 시스템으로 손쉽게 가져오면됨
- 코드를 정리하는 작업과 개발 작업의 히스토리는 구분되어있어야함



## 마치며

- 가장 훌륭한 코드베이스에도 불필요한 코드는 만들어짐 이것은 실패의 징조가 아님
- 죽은 코드가 있음에도 아무런 조치도 취하지 않는 것은 실패 징조
- 필요하지 않는 기능은 추가하지 말것. 정말 필요할때 추가하면됨





# 코드 베이스의 망령

- 오래된 코드를 다시 살펴보는 것은 코딩 기술 등을 향상시키는데 도움을 줌

## 외관

## 최신 기술

## 관례

## 설계 결정 사항

## 버그

## 마치며

- 기존의 코드를 돌아보는 것은 자신을 위한 코드 리뷰이자 가치있는 행동임
- 더 이상 적절하지 않다고 느껴지는 예전의 코드를 찾아내는 것은 좋은일임 이는 성장했다는 뜻.



# 경로 탐색하기

- 프로젝트에 투입된 최초 시점에서 성과를 낼 수 있는 상태에 빠르게 도달하기 위해 어떻게 해야할지에 대한 고민...
- 하나의 팀에서 영원히 하나의 코드베이스만 다루다가 고인물이 되지 말아야함
- 이미 존재하는 거대한 코드베이스에 적응하는 것은 어려운 일임.
- 적응을 위한 작업
  - 코드의 어느 부분부터 보아야 하는지 파악하기
  - 코드의 부분별 기능을 알아내고 그 기능을 어떻게 수행하는지 살펴보기
  - 코드의 품질을 가늠하기
  - 시스템 내부를 어떻게 탐색할 것인지 계획하기
  - 코딩 관례를 이해하고, 본인의 수정 사항이 그것과 어울리도록 만들기
  - 특정 기능이 있을 법한 위치를 파악하고, 그 기능에 의해 발생하는 버그 찾아보기



## 친구들의 작은 도움

- 코드에 정통한 누군가와 함께 일을 할 수 있다면 그 점을 활용할 것. 질문하기를 주저하지 말 것
- 주변에 없다면 커뮤니티, 오픈소스를 찾아볼 것
- 도움을 요청할 때는 언제나 공손해야 하고 감사해야함. 
- 합리적이고 적절한 질문을 할 것 
- 도움을 받았으면 그에 대한 답례로 다른 이를 도울 준비를 할 것
- 혼자 쉽게 알아낼 수 있는 바보같은 질문을 하지 않는 것은 최소한의 예의



## 단서 찾기

- 도와주는 사람이 없을때는 단서들을 찾아야함

**소스 획득의 용이성**

- 건전한 프로젝트에서는 전체 코드베이스를 얻기 위해 코드를 한 번만 체크아웃 해도됨.
- 빌드 머신의 그 어떤 디렉터리에 두어도 상관 없음 경로를 하드코딩해서는 안됨



**코드 빌드의 용이성**

- 건전한 빌드는 핱나의 단계만으로 수행되고 사용자의 개입을 필요로 하지 않음



**테스트**

- 좋은 테스트를 포함하는 코드는 일반적으로 적절히 분류되고 심사숙고되며 제대로 설계됨

**파일 구조**

- 코드 형태와 어울리는지

**문서**

- 문서가 잘 되어있는지

**정적 분석**

**요구사항**

- 최초 프로젝트 요규사항 문서나 기능 명세서가 있는지

**프로젝트 의존성**

- 코드에서 특정 프레임워크와 서드파티 라이브러리를 사용하는지

**코드 품질**

- 코드의 품질에 대해 살펴보기

**구조**



## 실행을 통해 배우기

- 자전거를 책으로본다고해서 자전거 타는 실력이 늘지 않음. 코드도 만찬가지. 코드도 지속적으로 많이 봐야 실력이 늘 수 있음

### 낮게 매달려 있는 과일

- 간단하고 사소한 일부터 도전해볼것.
- 바로 확인해볼 수 있고 코드와 직접 관련이 있는 작언 버르를 찾아내는 것 등
- 어마어마하게 복잡한 오류보다는 사소하고, 재현 가능하며, 위험성이 적은 오류 보고부터 시작

### 코드 조사하기

- 컴파일러 경고를 확인.
- 기능과 무관한 코드 변경 작업을 통해 코드의 각 요소가 어떻게 서로 들어맞고 어울리는 지 알 수 있음



### 확인한 뒤에 행동하라

- 코드의 작은 부분부터 확인. 테스트. 리팩토링.
- 변수명과 함수명을 적절하게 바꿔볼것
- 코드를 작성하는것이 읽는것보다 쉬움



### 테스트부터 하라

- 테스트를 찾고 새로운 단위테스를 어떻게 추가하는지. 테스트를 어떻게 실행하는지 확인해볼것

### 잡다한 일을 처리하라

- 사용자 ui 개선작업. 소스파일 정리. 디렉터리 구조 변경 등등



### 알아낸 것을 기록하라

- README 문서가 있으면 사용하고 그렇지 않다면 지금까지 알아낸것들에 대한 기록
- 많은 프로그래머들에게 README파일을 리뷰 요청할것



## 마치며

- 경험이 쌓일수록 고통은 줄어들고 이득은 커짐. 코딩도 마찬가지
- 새로운 코드베이스에서 더 많이 작업해볼 수록, 새로운 코드를 더 효과적으로 이해할 수 있음





# 똥통에서 뒹굴기

- 똥 덩어리 코드를 다루기 위한 전략 ...?

## 똥냄새 맡기

- 훌륭한 코드만 만날 수 없음.
- 나쁜 코드를 언제든 만날 수 있다는 마음의 준비를 할것
- 나쁜 코드를 다룰 때 쓸 강력한 도구들을 미리 준비해둘것
- 이상한 코드를 효과적으로 다루기 위해서는 문제 지점을 어떻게 찾고 다룰지 알아야함



## 똥통 헤치고 나아가기

- 더러운 코드를 만들게 된 이유부터 냉정하게 분석해야함
- 충분히 살펴보기 전까지는 코드나 코드를 작성한 사람에 대해 경솔한 판단을 하지 말아야함
- 개인적 이유로 판단하지 말 것 조잡한 코드를 일부러 짜는 사람은 거의 없음
- 나쁜 코드를 만났을 때 느껴지는 혐오감을 참고 대신 그걸 나아지게 할 방법을 찾을 것



## 똥통 조사 결과

- 다음과 같은 평가 기준에 따라 코드의 품질을 측정할 수 있음
  - 외부에 노출하는 api는 깔끔하고 합리적인가?
  - 자료형을 잘 고르고 변수 명을 적절히 지었는가?
  - 코드의 레이아웃을 정돈하여 일관성있게 작성했는가?
  - 객체들의 협업 구조가 보기에 간결하고 명확한가? 아니면 코드베이스 전반에 제어 구조가 예측할 수 없게 얽혀있는가?\
  - 특정 기능을 구현하는 코드 부분이 어디에 있는지 쉽게 찾을 수 있는가?



## 수렁에서 일하기

- 헤어나기 어려운 늪이나 다름없는 코드를 찾아냈다면 긴급상황에 속한것. 적절한 전략이 필요함 적절한 공략 계획은?
  - 나쁜 코드를 고쳐야만 할까?
  - 현재의 문제를 해결할 최소한의 수정만 한 뒤 달아나야 할까? ㅎ...
  - 괴사 부위를 도려내고, 새롭고 더 나은 코드로 바꿔야할까?
- 시간이 없으면 전체를 다 뒤엎을 생각을 하지 말 것
- 시간을 지혜롭게 쓸 것. 코드가 별로여도 별다른 수정없이 몇년동안 적절하게 동작했다면 지금 수정하는 것은 적절하지 않을 수 있음
- 지금 수정하지 않고 이후에 점진적으로 수정해나가면서 코드를 개선할 수 있음



## 똥 치우기

- 어떤 코드를 건드리든 이전보다 나아지도록 할 것. 보이스카웃 규칙
- 간단한 수정이라도 좋음
- 주기적으로 코드 일부라도 확인하고 그때마다 조금씩 나아지게 만들면 머지않아 좋은 결과물을 만들 수 있음



## 수정하기

- **코드 수정은 천천히. 주의깊게. 한번에 하나씩 수정**
  - 기능을 변경하면서 코드의 레이아웃 변경 금지
  - 수정으로 인해 기존 기능에 문제가 생기지 않음을 보장할 수 있는 모든 수단을 사용할 것. 신뢰할만한 자동화 도구, 변경사항에 대한 충분한 검토 .. 
  - 적절한 단위 테스트들로 코드를 충분히 둘러 싸야함. 문제되는 코드 주변에 테스트 코드가 전혀 없다면 먼저 테스트부터 만들것
  - 코드를 감싼 api를 수정하되 내부 로직을 직접 수정하지 말 것. 적절ㄹ한 명칭과 매개 변수 타입, 순서를 가지도록 수정할것. 이는 코드 전벤에 걸쳐 일관되어야함. 아니면 새로운 외부 인터페이스를 만들 수도 있음. 기존 api를 통해 새로운 외부 인터페이스를 작성하고, 이후 내부 구조를 변경할 때 이인터페이스의 내부도 변경하면 됨
- 코드 변경에 대해 할 수 있다는 용기를 가질것. 잘못되면 다시 되돌리면됨



## 나쁜 코드? 나쁜 프로그래머?

- 일부러 잘못된 코드를 작성하려는 사람은 거의 없음. 나쁜 코드에 비난을 퍼부을 필요도 없음
- 가능하다면 코드를 변경할 기회를 즐길것.



## 마치며





# 오류 무시하지 않기

- 코드에서 발생할 수 있는 모든 오류를 무시하지 말 것. 
- 더 늦기 전에 오류 처리를 미루지 말라. 자꾸 미루다보면 처리하기 더 어려워짐



## 메커니즘

- 우리는 아래의 여러 방법으로  코드의 오류를 확인함

**코드 응답**

- 리턴 값은 가장 보편적인 오류 검출 방법. 함수들은 값을 반환하고. 운영체제 프로세스도 값을 반환함

**부수적 작용**

**예외**

- try-catch에서 catch문에 아무런 동작도 하지 않는것.
- 규칙에 맞춰서 예외를 잘 사용해야함



## 광기

- 요류를 적절히 처리하지 않으면 다음과 같은 일이 발생할 수 있음

**불안정한 코드**

- 이러한 유형의 코드는 찾아내기 어려운 충돌로 가득 차 있음

**불안전한 코드**

- 크래커들은 소프트웨어 시스템을 파괴하기 위해 종종 오류 처리 과정의 취약점을 이용함

**나쁜 구조**

- 만약 반복적으로 다루어야 하는 오류로 인해 코드가 지루해진다면. 그것은 좋지 않은 인터페이스 때문임 인터페이스를 개선해야함.



- 코드에서 모든 잠재적인 오류를 확인해야 하는 것처럼. 사용자 인터페이스에서도 모든 잠재적인 잘못된 상황을 노출시켜야함. 숨기지 말고 정상적으로 동작하는것처럼 보이게 만들지 말 것.



## 감형 사유



## 마치며

- 오류를 무시하지 말 것!



# 예상하지 못한 것을 예상하기

- 모든 단계에서 조금이라도 발생할 가능성이 있는 특이 사항들은 모두 고려해야함



## 오류

- 호출되는 어떤 함수도 예상대로 작동하지 않을 수 있음
- 운이 좋다면 오류 코드를 전달받을 수 있음. 무조건 확인할 것
- 함수는 자신의 기능이 제대로 이행되지 않을 때 예외를 던질 수 있음. 코드가 예외 발생에 대해 대처하도록 할 것.
- 항상 오류를 고려한 코드를 작성하여 그로부터 복구할 수 있도록 할 것. 복구하지 못할 오류 역시 고려할 것.



## 스레딩

- 멀티스레드 환경에서 예측 불가능한 수준을 다루기 위해서는 기본적인 동시 실행의 원리와 함께 스레드 간의 결합도를 완화하여 위험하게 상호 작용하지 않도록 하는 방법을 반드시 이해해야함



## 셧다운

- 리소스의 누출이나 데드락, 충돌 없이 코드를 우아하게 중단시킬 수 있는지에 대해서는 잘 확인하지 않음



## 이 이야기의 교훈

- 코드 작성시 가능한 모든 코드 경로를 고려해야함. 나중에 비정상적인 경우에 대응하려 하지 말라. 그렇게 할 일을 미루다보면 이후 그와 같은 경로 자체가 있음을 잊어버리게 되고 코드는 버그로 가득 찰 것.











