# 데이터 중심 애플리케이션 설계



# #1 신뢰할 수 있고 확장 가능하며 유지보수하기 쉬운 애플리케이션

- 오늘날 많은 애플리케이션은 계산 중심과는 다르게 데이터 중심 적이다. 이는 CPU 성능이 아닌 데이터의 양, 데이터의 복잡도, 데이터의 변화 속도가 더 중요하다.

## 데이터 시스템에 대한 생각

- 이 책에서는 대부분의 소프트웨어 시스템에서 중요하게 여기는 세가지 관심사에 중점을 둔다.

`신뢰성 Reliability`

- 하드웨어나 소프트웨어 겨함. 심지어 인적 오류 같은 역경에 직면하더라도 시스템은 지속적으로 올바르게 동작해야 한다.

`확장성 Scalability`

- 시스템의 데이터 양, 트래픽 양, 복잡도가 증가하면서 이를 처리할 수 있는 적절한 방법이 있어야 한다.

`유지보수성 Maintainability`

- 시간이 지남에 따라 여러 다양한 사람들이 시스템 상에서 작업할 것이기 때문에 모든 사용자가 시스템 상에서 생산적으로 작업할 수 있게 해야 한다.



## 신뢰성

- 소프트웨어에서 기대하는 일반적인 기대치
  - 애플리케이션은 사용자가 기대한 기능을 수행한다.
  - 시스템은 사용자가 범한 실수나 예상치 못한 소프트웨어 사용법을 허용할 수 있다.
  - 시스템 성능은 예상된 부하와 데이터 양에서 필수적인 사용 사례를 충분히 만족한다.
  - 시스템은 허가되지 않은 접근과 오남용을 방지한다.
- 잘못될 수 있는 일을 결함 이라고 부르고 그 결함을 예측하고 대처할 수 있는 시스템을 내결함성 또는 탄력성을 지녔다고 말한다.
- 결함이 0일수는 없다. 하지만 특정 결함으로 인해 장애가 발생하지 않게끔 내결함성 구조를 설계하는 것이 좋다.



### 하드웨어 결함

### 소프트웨어 오류

### 인적 오류

- 사람이 미덥지 않음에도 시스템을 어떻게 신뢰성 있게 만들까에 대한 아이디어들
  - 오류의 가능성을 최소화하는 방향으로 시스템을 설계하라. 잘 설계된 추상화, API, 관리 인터페이스를 사용하면 옳은 일은 쉽게하고 잘못된 일은 막을 수 있다. 인터페이스가 지나치게 제한적이면 사람들은 좋은 점을 잊은 채 제한된 인터페이스를 피해 작업한다. 이런 시스템 설계는 올바르게 작동하게끔 균형을 맞추기가 어렵다.
  - 사람이 가장 많이 실수하는 장소에서 사람의 실수로 장애가 발생할 수 있는 부분을 분리하라. 비 프로덕션 샌드박스를 제공하라.
  - 단위 테스트부터 전체 시스템 통합 테스트와 수동 테스트까지 모든 수준에서 철저하게 테스트하라.
  - 장애 발생의 영향을 최소화하기 위해 인적 오류를 빠르고 쉽게 복수할 수 있게 하라. 예를 들어 설정 변경 내역을 rollback하고 새로운 코드를 서서히 rollout 하게 만들기
  - 성능 지표와 오류율 같은 상세하고 명확한 모니터링 대책을 마련하라.
  - 조작 교육과 실습을 시행하라.



### 신뢰성은 얼마나 중요할까?

- 비즈니스 애플리케이션에서 버그는 생산성 저하의 원인이고 전자 상거래 사이트의 중단은 많은 비용을 초래한다.
- 모든 애플리케이션은 안정적으로 작동해야 한다.



## 확장성

- 시스템이 현재 안정적으로 동작한다고 해서 미래에도 안정적으로 동작한다는 보장은 없다.
- 성능 저하를 유발하는 흔한 이유중 하나는 부하 증가다.
- 확장성을 논한다는 것은 아래와 같은 질문을 고려한다는 의미다.
  - 시스템이 특정 방식으로 커지면 이에 대처하기 위한 선택은 무엇인가?
  - 추가 부하를 다루기 위해 계산 자원을 어떻게 투입할까?





