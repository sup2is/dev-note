



# #1 새로운 인프라 환경이 온다



## 컨테이너 인프라 환경이란

- 컨테이너 인프라 환경이란? => 컨테이너를 중심으로 구성된 인프라환경
- 컨테이너란? => 하나의 운영 체제 커널에서 다른 프로세스에 영향을 받지 않고 독립적으로 실행되는 프로세스 상태
- 컨테이너 인프라 환경을 이해하기 위해서 모놀리식 아키텍처와 마이크로서비스 아키텍처에 대한 이해가 필요하다.

### 모놀리식 아키텍처

- 모놀리식 아키텍처란? => 하나의 큰 목적이 있는 서비스 또는 애플리케이션에 여러 기능이 통합돼 있는 구조

![1-1](./1-1.png)

- 모놀리식 아키텍처의 장점
  - 초기 단계에서 설계하기 용이
  - 개발이 단순
  - 코드관리가 간편
- 모놀리식 아키텍처의 단점
  - 서비스가 성장할수록 서비스간 관계가 복잡해짐
  - 서비스에서 이뤄진 수정이 연관된 다른 서비스에 영향을 미칠 가능성이 높음
  - 특정 서비스의 사용량이 높아진다고해서 개별로 스케일아웃 불가능.
- 모놀리식 아키텍처의 단점으로 마이크로서비스 아키텍처가 등장

### 마이크로서비스 아키텍처

- 마이크로서비스 아키텍처란? => 개별 기능을 하는 작은 서비스들이 각각 다른 호스트로 연결되어 있는 구조

![1-2](./1-2.png)

- 마이크로서비스 아키텍처의 장점
  - 서비스 재사용성
  - 특정 서비스를 독립적으로 스케일아웃 가능
  - 서비스에서 이뤄진 수정이 연관된 다른 서비스에 영향을 미칠 가능성이 상대적으로 낮음
  - 서비스별로 필요한 DB 분리 가능
    - 뉴스 서비스는 NoSQL
    - 결제 서비스는 RDB
  - 개별 서비스에 대한 장애대처가 가능
- 마이크로서비스 아키텍처의 단점
  - 높은 복잡도
  - 높은 관리 포인트



### 컨테이너 인프라 환경에 적합한 아키텍처

- 마이크로서비스 아키텍처는 만능? => IT 세계에서는 대부분 정해진 답이 없다. 주어진 상황에 적합한 기술이 있을 뿐이다.
- 모놀리식 아키텍처로 구현을 시작했지만 시스템이 성장하고 기능이 늘어나면 마이크로서비스 아키텍처로 전환할 수 있다.



## 컨테이너 인프라 환경을 지원하는 도구

### 도커

- 도커는 컨테이너 환경에서 독립적으로 애플리케이션을 실행할 수 있도록 컨테이너를 만들고 관리하는 것을 도와주는 컨테이너 도구다.
- 도커로 애플리케이션을 실행하면 운영 체제 환경에 관계없이 독립적인 환경에서 일관된 결과를 보장한다.
- 도커와 비슷한 컨테이너 도구
  - Containerd, CRI-O, Podman

### 쿠버네티스

- 쿠버네티스는 컨테이너의 자동 배포와 배포된 컨테이너에 대한 동작 보증, 부하에 따른 동적 확장 등의 기능을 제공한다.
- 쿠버네티스와 비슷한 컨테이너 도구
  - Docker Swarm, Mesos, Nomad

### 젠킨스

- 젠킨스는 지속적 통합(CI) 와 지속적 배포(CD) 를 지원한다.
- 지속적 통합과 지속적 배포는 개발한 프로그램의 빌드, 테스트, 패키지화, 배포 단계를 모두 자동화해 개발 단계를 표준화한다.
- 젠킨스와 비슷한 도구
  - Bamboo, Github Actions, Teamcity



### 프로메테우스와 그라파나

- 프로메테우스는 상태 데이터를 수집하고 그라파나는 프로메테우스로 수집한 데이터를 관리자가 보기 좋게 시각화한다.
- 모니터링 데이터 수집 도구
  - DataDog, InfluxDB, New Relic
- 시각화 도구
  - Kibana, Chronograf



## 새로운 인프라 환경의 시작